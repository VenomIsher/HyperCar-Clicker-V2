<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="mccRhxBzff0yfaVWrN3xUgK_eF6opi6fQ1An7wdz4oQ" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hypercar Tycoon Clicker</title>
    <meta name="description" content="Hypercar Tycoon Clicker, un jeu de clicker o√π vous achetez des voitures et am√©liorez votre garage.">
    <meta name="keywords" content="Hypercar, Clicker, Jeu, Voitures, Garage, CPS">
    <meta name="robots" content="index, follow">
    <style>
        body {
            font-family: Verdana, sans-serif;
            text-align: center;
            background: #111;
            color: #eee;
            margin: 0;
            padding: 130px 0 0 0;
        }

        #fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #111;
            color: #fff;
            padding: 5px 0;
            border-bottom: 2px solid #444;
            z-index: 1000;
        }

            #fixed-header h1 {
                margin: 4px 0;
                font-size: 1.5em;
            }

            #fixed-header div {
                font-size: 1em;
                margin: 2px 0;
            }

        .tabs {
            margin: 5px 0;
        }

        .tab-button {
            background: #333;
            border: none;
            padding: 8px 15px;
            margin: 2px;
            color: #eee;
            cursor: pointer;
            border-radius: 8px;
            transition: background 0.2s ease;
        }

            .tab-button:hover {
                background: #444;
            }

        .tab-content {
            display: none;
            padding: 20px 10px;
        }

            .tab-content.active {
                display: block;
            }

        #clickArea {
            width: 35vw;
            max-width: 250px;
            height: 35vw;
            max-height: 250px;
            margin: 20px auto;
            background: #222;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10em;
            cursor: pointer;
            margin-top: 10%;
            transition: transform 0.1s ease;
            position: relative;
        }

            #clickArea:active {
                transform: scale(0.9);
            }

        .section {
            border: 1px solid #444;
            margin: 15px auto;
            padding: 10px;
            border-radius: 10px;
            background: #222;
            max-width: 1000px;
        }

        .card, .track-card {
            background: #333;
            border-radius: 12px;
            padding: 4px;
            margin: 6px;
            font-size: 0.9em;
            width: calc(25% - 12px);
            display: inline-block;
            vertical-align: top;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: transform 0.2s ease, background 0.2s ease;
        }

            .card:hover, .track-card:hover {
                transform: scale(1.05);
                background: #444;
            }

            .card img {
                width: 80px;
                height: 80px;
                object-fit: contain;
            }

            .card p, .track-card p {
                margin-top: 8px;
                font-size: 0.85em;
            }

        /* Supprimer le contour bleu et emp√™cher la s√©lection */
        #clickArea, .card {
            outline: none;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
        }

        .separator {
            background: #333;
            color: #fff;
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            margin: 10px 0;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.4);
            letter-spacing: 1px;
        }

        .floating-text {
            font-family: Verdana, sans-serif;
            position: absolute;
            font-size: 20px;
            color: white;
            animation: floatUp 1s ease-out forwards;
            pointer-events: none;
            user-select: none;
            transform: translate(-50%, -50%);
        }

        @keyframes floatUp {
            0% {
                transform: translate(-50%, -50%) translateY(0);
                opacity: 1;
            }

            100% {
                transform: translate(-50%, -50%) translateY(-40px);
                opacity: 0;
            }
        }

        @media (max-width: 600px) {
            .card, .track-card {
                width: calc(90% - 12px);
            }
            /* Supprimer le contour bleu et emp√™cher la s√©lection */
            #clickArea, .card {
                outline: none;
                user-select: none;
                -webkit-user-select: none;
                -webkit-touch-callout: none;
            }

                #clickArea:active {
                    transform: scale(0.9);
                }

            #clickArea {
                width: 100vw;
                max-width: 300px;
                height: 100vw;
                max-height: 300px;
                font-size: 11em;
                margin-top: 40%;
            }
        }

        .settings-btn {
            display: block; /* chaque bouton prend une ligne enti√®re */
            width: 80%; /* largeur */
            margin: 10px auto; /* espace entre les boutons */
            padding: 12px 20px; /* taille interne */
            font-size: 1em; /* taille du texte */
            font-weight: bold; /* texte plus marqu√© */
            border: none; /* pas de bordure classique */
            border-radius: 12px; /* coins arrondis */
            background: #333; /* fond */
            color: white; /* couleur texte */
            cursor: pointer; /* curseur main */
            transition: all 0.2s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .settings-btn:hover {
            background: #444;
            transform: scale(1.05);
        }

        .stats-btn {
            display: block;
            width: 80%;
            margin: 8px auto;
            padding: 10px 18px;
            font-size: 1em;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            background: #333;
            color: white;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .stats-btn:hover {
            background: #444;
            transform: scale(1.05);
        }

        .succes-obtenu {
            background-color: #4caf50; /* vert */
            color: white;
        }

        .succes-non-obtenu {
            background-color: #f44336; /* rouge */
            color: white;
        }

    </style>
</head>
<body>

    <div id="fixed-header">
        <h1>üèéÔ∏è Hypercar Tycoon Clicker</h1>
        <div id="credits">Cr√©dits : 0</div>
        <div id="cpcDisplay">Cr√©dits par clic : 1</div>
        <div id="cpsDisplay">CPS total : 0</div>

        <div class="tabs">
            <button class="tab-button" onclick="openTab('main')">üèÅ Principal</button>
            <button class="tab-button" onclick="openTab('carsTab')">üèéÔ∏è Voitures</button>
            <button class="tab-button" onclick="openTab('upgradesTab')">‚öôÔ∏è Am√©liorations</button>
            <button class="tab-button" onclick="openTab('tracksTab')">üèüÔ∏è Circuits</button>
            <button class="tab-button" onclick="openTab('statsTab')"> üìä Stats</button>
            <button class="tab-button" onclick="openTab('settingsTab')"> ‚öôÔ∏è Parametres</button>
        </div>
    </div>

    <div id="main" class="tab-content active">
        <div id="clickArea">üèÜ</div>
    </div>

    <div id="carsTab" class="tab-content">
        <div class="section">
            <h2>Voitures</h2>
            <div id="cars"></div>
        </div>
    </div>

    <div id="upgradesTab" class="tab-content">
        <div class="section">
            <h2>Am√©liorations</h2>
            <div id="upgrades"></div>
        </div>
    </div>

    <div id="tracksTab" class="tab-content">
        <div class="section">
            <h2>Circuits</h2>
            <div id="tracks"></div>
        </div>
    </div>

    <div id="settingsTab" class="tab-content">
        <div class="section">
            <h2>Param√®tres</h2>
            <button class="settings-btn" onclick="resetGame()">üîÑ R√©initialiser la partie</button>
            <button class="settings-btn" onclick="saveGame()">üíæ Sauvegarder manuellement</button>
        </div>
    </div>

    <div id="statsTab" class="tab-content">
        <div class="section">
            <h2>üìä Statistiques</h2>

            <div id="stats-summary" style="margin-bottom:10px; text-align:left;">
                <p>Nombre de clics : <span id="total-clicks">0</span></p>
                <p>CPS : <span id="total-cps">0</span></p>
                <p>CPC : <span id="total-cpc">1</span></p>
                <p>Temps de jeu : <span id="total-time">0s</span></p>
            </div>

            <button class="stats-btn" onclick="showStats('garage')">üèéÔ∏è Mon Garage</button>
            <div id="garage-liste" style="display:none; margin:5px 0 10px 0; text-align:left;"></div>

            <button class="stats-btn" onclick="showStats('success')">üèÜ Succ√®s</button>
            <div id="liste-succes" style="display:none; margin-top:10px; text-align:left;"></div>
        </div>
    </div>




    <script>
        let credits = 0;
        let totalCPS = 0;
        let baseClickValue = 1;
        let totalClicks = 0;
        let totalPlayTime;
        let lastSessionStart = Date.now();


        const carsCommunes = [
            { type: "separator", label: "üöó Communes" },
            { name: "Porsche Cayman", baseCost: 25, cps: 1, count: 0, achete: false },
            { name: "Audi R8", baseCost: 120, cps: 3, count: 0, achete: false },
            { name: "Mercedes AMG GT", baseCost: 250, cps: 5, count: 0, achete: false },
            { name: "Aston Martin Vantage", baseCost: 400, cps: 8, count: 0, achete: false },
            { name: "Nissan 370Z", baseCost: 600, cps: 10, count: 0, achete: false },
            { name: "Toyota Supra Mk5", baseCost: 750, cps: 12, count: 0, achete: false },
            { name: "Ford Mustang GT", baseCost: 900, cps: 15, count: 0, achete: false },
            { name: "Chevrolet Camaro ZL1", baseCost: 1100, cps: 18, count: 0, achete: false },
            { name: "BMW M4", baseCost: 1300, cps: 20, count: 0, achete: false },
            { name: "Lotus Elise", baseCost: 1500, cps: 22, count: 0, achete: false },
        ];

        const carsRares = [
            { type: "separator", label: "üèéÔ∏è Rares" },
            { name: "Ferrari F8 Tributo", baseCost: 5000, cps: 30, count: 0, achete: false },
            { name: "Lamborghini Aventador", baseCost: 12000, cps: 50, count: 0, achete: false },
            { name: "Porsche 911 GT3 RS", baseCost: 20000, cps: 75, count: 0, achete: false },
            { name: "McLaren 720S", baseCost: 35000, cps: 100, count: 0, achete: false },
            { name: "Maserati MC20", baseCost: 50000, cps: 150, count: 0, achete: false },
            { name: "Audi RS7", baseCost: 65000, cps: 200, count: 0, achete: false },
            { name: "Jaguar F-Type SVR", baseCost: 85000, cps: 250, count: 0, achete: false },
            { name: "Corvette C8 Z06", baseCost: 100000, cps: 300, count: 0, achete: false },
            { name: "Lexus LFA", baseCost: 140000, cps: 400, count: 0, achete: false },
            { name: "Alpine A110S", baseCost: 180000, cps: 500, count: 0, achete: false },
        ];

        const carsEpique = [
            { type: "separator", label: "üî• √âpiques" },
            { name: "Ferrari LaFerrari", baseCost: 250000, cps: 750, count: 0, achete: false },
            { name: "Porsche 918 Spyder", baseCost: 400000, cps: 1000, count: 0, achete: false },
            { name: "Mercedes SLR McLaren", baseCost: 600000, cps: 1500, count: 0, achete: false },
            { name: "Aston Martin Vulcan", baseCost: 900000, cps: 2000, count: 0, achete: false },
            { name: "Pagani Utopia", baseCost: 1200000, cps: 3000, count: 0, achete: false },
            { name: "Ferrari SF90 Stradale", baseCost: 1500000, cps: 4000, count: 0, achete: false },
            { name: "Lamborghini Hurac√°n Performante", baseCost: 2000000, cps: 5000, count: 0, achete: false },
            { name: "Ford GT (2017)", baseCost: 2500000, cps: 6000, count: 0, achete: false },
            { name: "Rimac Nevera", baseCost: 3200000, cps: 8000, count: 0, achete: false },
            { name: "Lotus Evija", baseCost: 4000000, cps: 10000, count: 0, achete: false },
            { name: "De Tomaso P72", baseCost: 4800000, cps: 12000, count: 0, achete: false },
        ];

        const carsLegendaire = [
            { type: "separator", label: "üèÜ L√©gendaires" },
            { name: "Bugatti Chiron", baseCost: 6000000, cps: 15000, count: 0, achete: false },
            { name: "Aston Martin Valkyrie", baseCost: 8000000, cps: 20000, count: 0, achete: false },
            { name: "McLaren P1", baseCost: 10000000, cps: 25000, count: 0, achete: false },
            { name: "Lamborghini Veneno", baseCost: 12000000, cps: 30000, count: 0, achete: false },
            { name: "Ferrari F40", baseCost: 16000000, cps: 40000, count: 0, achete: false },
            { name: "Porsche 911 GT1 Stra√üenversion", baseCost: 20000000, cps: 50000, count: 0, achete: false },
            { name: "Koenigsegg Agera", baseCost: 24000000, cps: 60000, count: 0, achete: false },
            { name: "Pagani Huayra", baseCost: 30000000, cps: 75000, count: 0, achete: false },
            { name: "Ferrari Enzo", baseCost: 40000000, cps: 100000, count: 0, achete: false },
            { name: "Lamborghini Miura", baseCost: 48000000, cps: 120000, count: 0, achete: false },
        ];

        const carsMythique = [
            { type: "separator", label: "üåå Mythiques" },
            { name: "Mercedes AMG ONE", baseCost: 60000000, cps: 400000, count: 0, achete: false },
            { name: "Bugatti Tourbillon", baseCost: 80000000, cps: 500000, count: 0, achete: false },
            { name: "McLaren F1", baseCost: 100000000, cps: 600000, count: 0, achete: false },
            { name: "Koenigsegg Jesko", baseCost: 120000000, cps: 750000, count: 0, achete: false },
            { name: "Koenigsegg Jesko Absolute", baseCost: 150000000, cps: 1000000, count: 0, achete: false },
            { name: "SSC Tuatara", baseCost: 200000000, cps: 1500000, count: 0, achete: false },
            { name: "Bugatti Veyron Super Sport", baseCost: 250000000, cps: 2000000, count: 0, achete: false },
            { name: "Hennessey Venom F5", baseCost: 300000000, cps: 2500000, count: 0, achete: false },
            { name: "Apollo IE", baseCost: 350000000, cps: 3000000, count: 0, achete: false },
            { name: "Devel Sixteen", baseCost: 400000000, cps: 4000000, count: 0, achete: false },
            { name: "Ferrari 250 GTO", baseCost: 500000000, cps: 5000000, count: 0, achete: false },
            { name: "Mazda 787B", baseCost: 600000000, cps: 6000000, count: 0, achete: false },
        ];

        // Fusionner toutes les voitures en un seul tableau
        const cars = [
            ...carsCommunes,
            ...carsRares,
            ...carsEpique,
            ...carsLegendaire,
            ...carsMythique
        ];


        const upgrades = [
            { name: "Turbo niv.1 üëÜ", cost: 100, effect: () => { baseClickValue *= 1.2; }, desc: "Un petit coup de boost au d√©marrage" },
            { name: "Turbo niv.2 üëÜ", cost: 500, effect: () => { baseClickValue *= 1.2; }, desc: "Encore plus de punch dans vos clics" },
            { name: "Pilote Amateur üèéÔ∏è", cost: 650, effect: () => { totalCPS *= 1.15; }, desc: "Un pilote motiv√© pour booster vos gains" },
            { name: "Transmission sportive ‚öôÔ∏è", cost: 1000, effect: () => { baseClickValue *= 1.25; }, desc: "Une transmission qui r√©agit vite" },
            { name: "Systeme Nitro ‚ö°", cost: 1200, effect: () => { totalCPS *= 1.12; }, desc: "Un petit coup de nitro bien plac√©" },
            { name: "Freinage optimis√© üõë", cost: 1500, effect: () => { baseClickValue *= 1.2; }, desc: "Freinez mieux pour acc√©l√©rer ensuite" },
            { name: "Transmission Course ‚öôÔ∏è", cost: 1600, effect: () => { totalCPS *= 1.15; }, desc: "Transmission taill√©e pour la course" },
            { name: "Turbo niv.3 üëÜ", cost: 2500, effect: () => { baseClickValue *= 1.3; }, desc: "Boost suppl√©mentaire pour vos clics" },
            { name: "DRS ‚öôÔ∏è", cost: 3000, effect: () => { totalCPS *= 1.2; }, desc: "Ailes ajust√©es pour glisser plus vite" },
            { name: "Turbo niv.4 üëÜ", cost: 4000, effect: () => { baseClickValue *= 1.35; }, desc: "Turbo puissant pour aller plus loin" },
            { name: "Moteur All√©g√© ‚öôÔ∏è", cost: 5000, effect: () => { totalCPS *= 1.25; }, desc: "Un moteur l√©ger pour plus de r√©activit√©" },
            { name: "Pilote Pro üèéÔ∏è", cost: 5000, effect: () => { baseClickValue *= 1.25; }, desc: "Un vrai pro aux commandes" },
            { name: "Freinage D√©gr√©ssif üõë", cost: 10000, effect: () => { totalCPS *= 1.3; }, desc: "Freinage progressif pour mieux contr√¥ler" },
            { name: "Pit-stop rapide üèÅ", cost: 10000, effect: () => { baseClickValue *= 1.3; }, desc: "Arr√™ts aux stands efficaces" },
            { name: "Publicit√© üì∫", cost: 12000, effect: () => { totalCPS *= 1.35; }, desc: "Faites parler de vous partout" },
            { name: "Turbo niv.5 üëÜ", cost: 15000, effect: () => { baseClickValue *= 1.4; }, desc: "Le turbo ultime pour vos clics" },
            { name: "Aero Actif üèéÔ∏è", cost: 15000, effect: () => { totalCPS *= 1.4; }, desc: "A√©rodynamique qui booste la vitesse" },
            { name: "Infos Ing√© üéôÔ∏è", cost: 15000, effect: () => { baseClickValue *= 1.35; }, desc: "Conseils ing√©nieux pour avancer" },
            { name: "ERS ‚ö°", cost: 35000, effect: () => { totalCPS *= 1.5; }, desc: "√ânergie r√©cup√©r√©e pour un coup de pouce" },
            { name: "Pilote L√©gendaire üèéÔ∏è", cost: 40000, effect: () => { baseClickValue *= 1.4; }, desc: "Une l√©gende pour inspirer vos gains" },
            { name: "Pneus Hard üõû", cost: 40000, effect: () => { totalCPS *= 1.45; }, desc: "Pneus r√©sistants pour plus de stabilit√©" },
            { name: "Pneus Medium üõû", cost: 40000, effect: () => { baseClickValue *= 1.35; }, desc: "Pneus √©quilibr√©s pour la performance" },
            { name: "Chassi Aluminium üöó", cost: 45000, effect: () => { totalCPS *= 1.5; }, desc: "Un ch√¢ssis l√©ger et solide" },
            { name: "Plaquette De Freins Course ‚öôÔ∏è", cost: 50000, effect: () => { baseClickValue *= 1.4; }, desc: "Un bon freinage pour une bonne acc√©l√©ration" },
            { name: "Chassi Fibre De Carbon üöó", cost: 55000, effect: () => { totalCPS *= 1.55; }, desc: "Un ch√¢ssis ultra l√©ger pour plus de vitesse" },
            { name: "Moteur hybride ‚ö°", cost: 60000, effect: () => { baseClickValue *= 1.45; }, desc: "Puissance hybride pour une course efficace" },
            { name: "Pneus Soft üõû", cost: 100000, effect: () => { totalCPS *= 1.6; }, desc: "Pneus ultra adh√©rents pour des virages serr√©s" },
            { name: "Sponsor üí∞", cost: 200000, effect: () => { baseClickValue *= 1.5; }, desc: "Soutien financier pour progresser" },
            { name: "Max Versappen üèéÔ∏è", cost: 3300000, effect: () => { totalCPS += 1.8; }, desc: "Un pilote rapide et pr√©cis" },
            { name: "Ayrton Senna üèéÔ∏è", cost: 27000000, effect: () => { baseClickValue *= 1.6; }, desc: "Une l√©gende du volant pour vous guider" },
            { name: "Lewis Hamilton üèéÔ∏è", cost: 4400000000, effect: () => { totalCPS += 2; }, desc: "Un champion pour maximiser vos gains" },
        ];

        const tracks = [
            // Circuits faciles / vitesse pure
            { name: "Red Bull Ring", cost: 25000, effect: () => { totalCPS += 200; } },
            { name: "Monza", cost: 50000, effect: () => { totalCPS += 800; } },
            { name: "Circuit Paul Ricard", cost: 100000, effect: () => { totalCPS += 1200; } },
            { name: "Silverstone", cost: 150000, effect: () => { totalCPS += 1500; } },
            { name: "Suzuka", cost: 180000, effect: () => { totalCPS += 1600; } },
            { name: "Autodromo Nazionale di Monza GP", cost: 200000, effect: () => { totalCPS += 1700; } },
            { name: "Circuit de Zandvoort", cost: 220000, effect: () => { totalCPS += 1800; } },

            // Circuits moyens / techniques
            { name: "Daytona International Speedway", cost: 200000, effect: () => { totalCPS += 1800; } },
            { name: "Sebring International Raceway", cost: 250000, effect: () => { totalCPS += 2000; } },
            { name: "Fuji Speedway", cost: 300000, effect: () => { totalCPS += 2200; } },
            { name: "Circuit des Am√©riques ‚Äì Austin", cost: 350000, effect: () => { totalCPS += 2400; } },
            { name: "Imola ‚Äì Autodromo Enzo e Dino Ferrari", cost: 400000, effect: () => { totalCPS += 2500; } },
            { name: "Hungaroring", cost: 420000, effect: () => { totalCPS += 2600; } },
            { name: "Circuit de Baku ", cost: 450000, effect: () => { totalCPS += 2700; } },

            // Circuits difficiles / tr√®s techniques
            { name: "Spa-Francorchamps", cost: 400000, effect: () => { totalCPS += 2700; } },
            { name: "Le Castellet ‚Äì Paul Ricard", cost: 500000, effect: () => { totalCPS += 3100; } },
            { name: "Circuit de Monaco", cost: 550000, effect: () => { totalCPS += 3300; } },
            { name: "Interlagos ‚Äì Aut√≥dromo Jos√© Carlos Pace", cost: 600000, effect: () => { totalCPS += 3500; } },
            { name: "Circuit de Barcelone-Catalogne", cost: 700000, effect: () => { totalCPS += 4000; } },
            { name: "Circuit de Shanghai", cost: 750000, effect: () => { totalCPS += 4200; } },
            { name: "Circuit de Singapour", cost: 800000, effect: () => { totalCPS += 4400; } },
            { name: "Circuit de Melbourne ‚Äì Albert Park", cost: 850000, effect: () => { totalCPS += 4600; } },

            // Circuits mythiques / l√©gendaires
            { name: "Brands Hatch", cost: 1200000, effect: () => { totalCPS += 5200; } },
            { name: "Hockenheimring", cost: 1300000, effect: () => { totalCPS += 5400; } },
            { name: "Abu Dhabi Yas Marina", cost: 1500000, effect: () => { totalCPS += 5600; } },
            { name: "Bahrain International Circuit", cost: 1600000, effect: () => { totalCPS += 5800; } },
            { name: "Le Mans", cost: 24000000, effect: () => { totalCPS += 6500; } },
            { name: "Nurb√ºrgring Nordschleife", cost: 1000000000, effect: () => { totalCPS += 8000; } },

        ];

        const succes = [
            { nom: "Premier Achat", description: "Acheter votre premi√®re voiture", condition: () => garage.length >= 1, achived: false },
            { nom: "Collectionneur", description: "Acheter 5 voitures diff√©rentes", condition: () => garage.length >= 5, achived: false },
            { nom: "√âlite", description: "Acheter une voiture √©pique", condition: () => garage.some(v => v.rang === "√©pique"), achived: false },
            { nom: "L√©gende Vivante", description: "Acheter une voiture l√©gendaire", condition: () => garage.some(v => v.rang === "l√©gendaire"), achived: false },
            { nom: "Mythe Automobile", description: "Acheter une voiture mythique", condition: () => garage.some(v => v.rang === "mythique"), achived: false },
            { nom: "Garage Universel", description: "Poss√©der une voiture de chaque cat√©gorie", condition: () => ["commun", "rare", "√©pique", "l√©gendaire", "mythique"].every(rang => garage.some(v => v.rang === rang)), achived: false },
            { nom: "Tuning D√©butant", description: "Acheter votre premi√®re am√©lioration", condition: () => ameliorations.length >= 1, achived: false },
            { nom: "Premier Tour", description: "Acheter votre premier circuit", condition: () => circuits.length >= 1, achived: false },
            { nom: "Enfer Vert", description: "Acheter le circuit du Nurb√ºrgring", condition: () => circuits.includes("Nurburgring"), achived: false },
            { nom: "Les 24 Heures", description: "Acheter le circuit du Mans", condition: () => circuits.includes("Le Mans"), achived: false },

            { nom: "Premier Clic", description: "Clicker 1 fois.", condition: () => totalClicks >= 1, achived: false },
            { nom: "Doigt Rapide", description: "Clicker 100 fois", condition: () => totalClicks >= 100, achived: false },
            { nom: "Accro du Clic", description: "Clicker 1 000 fois", condition: () => totalClicks >= 1000, achived: false },
            { nom: "Machine √† Clics", description: "Clicker 1M fois", condition: () => totalClicks >= 1_000_000, achived: false },
            { nom: "Doigts infatigables", description: "Clicker 1B fois", condition: () => totalClicks >= 1_000_000_000, achived: false },

            { nom: "Petit Revenus", description: "Gagner 10 cr√©dits par seconde", condition: () => creditsPerSecond >= 10, achived: false },
            { nom: "Investisseur", description: "Gagner 100 cr√©dits par seconde", condition: () => creditsPerSecond >= 100, achived: false },
            { nom: "Magnat", description: "Gagner 1 000 cr√©dits par seconde", condition: () => creditsPerSecond >= 1000, achived: false },
            { nom: "Tycoon", description: "Gagner 10 000 cr√©dits par seconde", condition: () => creditsPerSecond >= 10000, achived: false },
            { nom: "Millionnaire", description: "Gagner 1M cr√©dits par seconde", condition: () => creditsPerSecond >= 1_000_000, achived: false },
            { nom: "Milliardaire", description: "Gagner 1B cr√©dits par seconde", condition: () => creditsPerSecond >= 1_000_000_000, achived: false },

            { nom: "Une 3 places", description: "Obtenir la McLaren F1", condition: () => garage.some(v => v.nom === "McLaren F1"), achived: false },
            { nom: "Collection Commune", description: "Obtenir toutes les voitures communes", condition: () => toutesLesCommunes.every(nom => garage.some(v => v.nom === nom)), achived: false },
            { nom: "Collection Rare", description: "Obtenir toutes les voitures rares", condition: () => toutesLesRares.every(nom => garage.some(v => v.nom === nom)), achived: false },
            { nom: "Collection √âpique", description: "Obtenir toutes les voitures √©piques", condition: () => toutesLes√âpiques.every(nom => garage.some(v => v.nom === nom)), achived: false },
            { nom: "Collection L√©gendaire", description: "Obtenir toutes les voitures l√©gendaires", condition: () => toutesLesL√©gendaires.every(nom => garage.some(v => v.nom === nom)), achived: false },
            { nom: "Collection Mythique", description: "Obtenir toutes les voitures mythiques", condition: () => toutesLesMythiques.every(nom => garage.some(v => v.nom === nom)), achived: false },

            { nom: "Moteur rotatif", description: "Obtenir la Mazda 787B", condition: () => garage.some(v => v.nom === "Mazda 787B"), achived: false },
        ];

        function resetGame() {
            if (confirm("‚ö†Ô∏è Voulez-vous vraiment r√©initialiser votre partie ?")) {
                // Supprimer la sauvegarde
                localStorage.removeItem("hypercarSave");

                // R√©initialiser toutes les variables
                credits = 0;
                totalCPS = 0;
                baseClickValue = 1;
                totalClicks = 0;
                totalPlayTime = 0;
                lastSessionStart = Date.now();

                // R√©initialiser les voitures
                [...carsCommunes, ...carsRares, ...carsEpique, ...carsLegendaire, ...carsMythique].forEach(c => {
                    if (c.count !== undefined) c.count = 0;
                    if (c.achete !== undefined) c.achete = false;
                });

                // R√©initialiser les am√©liorations
                upgrades.forEach(u => u.bought = false);

                // R√©initialiser les circuits
                tracks.forEach(t => t.bought = false);

                // R√©initialiser l'affichage
                updateCreditsDisplay();
                updateStatsDisplay();
                renderShop();

                // Supprimer les succ√®s obtenus
                succes.forEach(s => s.achived = false);

                alert("üîÑ Partie r√©initialis√©e !");
            }
        }



        function saveGame() {
            const elapsedThisSession = Math.floor((Date.now() - lastSessionStart) / 1000);

            const saveData = {
                credits,
                totalCPS,
                baseClickValue,
                totalClicks,
                carsCommunes: carsCommunes.map(c => ({ count: c.count || 0 })),
                carsRares: carsRares.map(c => ({ count: c.count || 0 })),
                carsEpique: carsEpique.map(c => ({ count: c.count || 0 })),
                carsLegendaire: carsLegendaire.map(c => ({ count: c.count || 0 })),
                carsMythique: carsMythique.map(c => ({ count: c.count || 0 })),
                upgrades: upgrades.map(upg => ({ bought: !!upg.bought })),
                tracks: tracks.map(trk => ({ bought: !!trk.bought })),
                lastSave: Date.now(),
                totalPlayTime: (totalPlayTime || 0) + elapsedThisSession,

            };
            localStorage.setItem("hypercarSave", JSON.stringify(saveData));
        }



        function loadGame() {
    const saved = localStorage.getItem("hypercarSave");
    if (!saved) return;

    const data = JSON.parse(saved);

    // Bonus hors-ligne
    const offlineTime = Math.floor((Date.now() - (data.lastSave || Date.now())) / 1000);
    const offlineCredits = (data.totalCPS || 0) * offlineTime;
    if (offlineCredits > 0) {
        alert(`Vous avez gagn√© ${formatNumber(offlineCredits)} cr√©dits hors ligne !`);
    }

            credits = (data.credits || 0) + offlineCredits;
            totalCPS = data.totalCPS || 0;
            baseClickValue = data.baseClickValue || 1;
            totalPlayTime = data.totalPlayTime || 0;
            totalClicks = data.totalClicks || 0;
            lastSessionStart = Date.now();

    // üî• Restaurer chaque tableau s√©par√©ment
    if (data.carsCommunes) data.carsCommunes.forEach((c, i) => { if (carsCommunes[i]) carsCommunes[i].count = c.count || 0; });
    if (data.carsRares) data.carsRares.forEach((c, i) => { if (carsRares[i]) carsRares[i].count = c.count || 0; });
    if (data.carsEpique) data.carsEpique.forEach((c, i) => { if (carsEpique[i]) carsEpique[i].count = c.count || 0; });
    if (data.carsLegendaire) data.carsLegendaire.forEach((c, i) => { if (carsLegendaire[i]) carsLegendaire[i].count = c.count || 0; });
    if (data.carsMythique) data.carsMythique.forEach((c, i) => { if (carsMythique[i]) carsMythique[i].count = c.count || 0; });

    if (data.upgrades) data.upgrades.forEach((u, i) => { if (upgrades[i]) upgrades[i].bought = !!u.bought; });
    if (data.tracks) data.tracks.forEach((t, i) => { if (tracks[i]) tracks[i].bought = !!t.bought; });

            updateCreditsDisplay();
            renderShop();
            updateStatsDisplay();
}

        function formatNumber(num) {
            num = Math.floor(num);
            if (num >= 1e9) return (num / 1e9).toFixed(1).replace(/\.0$/, "") + "B";
            if (num >= 1e6) return (num / 1e6).toFixed(1).replace(/\.0$/, "") + "M";
            if (num >= 1e3) return (num / 1e3).toFixed(1).replace(/\.0$/, "") + "K";
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        function updateCreditsDisplay() {
            document.getElementById("credits").innerText = "Cr√©dits : " + formatNumber(credits);
            document.getElementById("cpcDisplay").innerText = "Cr√©dits par clic : " + (Math.round(baseClickValue * 100) / 100);
            document.getElementById("cpsDisplay").innerText = "CPS total : " + formatNumber(totalCPS);
        }

        function renderShop() {
            // Voitures
            const carDiv = document.getElementById("cars");
            carDiv.innerHTML = "";
            cars.forEach((car) => {
                if (car.type === "separator") {
                    const sep = document.createElement("div");
                    sep.className = "separator";
                    sep.textContent = car.label;
                    carDiv.appendChild(sep);
                } else {
                    const cost = Math.floor(car.baseCost * Math.pow(1.15, car.count));
                    const card = document.createElement("div");
                    card.className = "card";
                    card.innerHTML = `
                                        <p>
                                            ${car.name}<br>
                                            üí∞ ${formatNumber(cost)}<br>
                                            üöó ${car.count}<br>
                                            ‚ö° CPS unitaire : ${formatNumber(car.cps)}<br> <!-- üÜï Ligne ajout√©e -->
                                            ‚ö° CPS total : ${formatNumber(car.count * car.cps)}
                                        </p>
`;
                    card.onclick = () => {
                        if (credits >= cost) {
                            credits -= cost;
                            car.count++;
                            totalCPS += car.cps;

                            // üéØ Bonus sp√©cial pour la Porsche Cayman
                            if (car.name === "Porsche Cayman") {
                                baseClickValue += car.count / 10;
                            }

                            updateCreditsDisplay();
                            renderShop();
                            saveGame();
                            verifierSucces();
                        }
                    }
                    carDiv.appendChild(card);
                }
            });

            // Am√©liorations
            const upgDiv = document.getElementById("upgrades");
            upgDiv.innerHTML = "";
            upgrades.forEach((upg) => {
                if (!upg.bought) {
                    const card = document.createElement("div");
                    card.className = "card";
                    card.innerHTML = `<p>${upg.name}<br>üí∞ ${formatNumber(upg.cost)}<br>${upg.desc}</p>`;
                    card.onclick = () => {
                        if (credits >= upg.cost) {
                            credits -= upg.cost;
                            upg.bought = true;
                            upg.effect();
                            updateCreditsDisplay();
                            renderShop();
                            saveGame();
                            verifierSucces();
                        }
                    }
                    upgDiv.appendChild(card);
                }
            });

            // Circuits
            const trkDiv = document.getElementById("tracks");
            trkDiv.innerHTML = "";
            tracks.forEach((trk) => {
                if (!trk.bought) {
                    const card = document.createElement("div");
                    card.className = "track-card";
                    card.innerHTML = `<p>${trk.name}<br>üí∞ ${formatNumber(trk.cost)}<br>${trk.desc ? trk.desc : ""}</p>`;
                    card.onclick = () => {
                        if (credits >= trk.cost) {
                            credits -= trk.cost;
                            trk.bought = true;
                            trk.effect();
                            updateCreditsDisplay();
                            renderShop();
                            saveGame();
                            verifierSucces();
                        }
                    }
                    trkDiv.appendChild(card);
                }
            });
        }

        const clickArea = document.getElementById("clickArea");

        // Modifier la fonction handleClick pour compter les clics
        function handleClick(e) {
            e.preventDefault();
            totalClicks++;
            const gain = Math.round(baseClickValue * 100) / 100;
            credits += gain;
            updateCreditsDisplay();
            updateStatsDisplay();

            const floating = document.createElement("span");
            floating.className = "floating-text";
            floating.innerText = "+" + formatNumber(gain);

            const rect = clickArea.getBoundingClientRect();
            let x, y;

            if (e.touches) { // mobile
                x = e.touches[0].clientX - rect.left;
                y = e.touches[0].clientY - rect.top;
            } else { // desktop
                x = e.clientX - rect.left;
                y = e.clientY - rect.top;
            }

            floating.style.left = x + "px";
            floating.style.top = y + "px";
            clickArea.appendChild(floating);

            setTimeout(() => floating.remove(), 1000);
            verifierSucces();
        }

         /*Fonction pour mettre √† jour les stats affich√©es*/
        function updateStatsDisplay() {
            document.getElementById("total-clicks").innerText = totalClicks;
            document.getElementById("total-cps").innerText = formatNumber(totalCPS);
            document.getElementById("total-cpc").innerText = Math.round(baseClickValue * 100) / 100;

            const elapsedThisSession = Math.floor((Date.now() - lastSessionStart) / 1000);
            const total = (totalPlayTime || 0) + elapsedThisSession;

            document.getElementById("total-time").innerText = formatTime(total);
        }

        function formatTime(seconds) {
            const h = Math.floor(seconds / 3600);
            const m = Math.floor((seconds % 3600) / 60);
            const s = seconds % 60;
            return (h > 0 ? `${h}h ` : "") + (m > 0 ? `${m}m ` : "") + `${s}s`;
        }


        clickArea.addEventListener("click", handleClick);
        clickArea.addEventListener("touchstart", handleClick);

        // Cr√©dit passif chaque seconde
        setInterval(() => {
            credits += totalCPS;
            updateCreditsDisplay();
        }, 1000);

        // Sauvegarde auto toutes les 15s
        setInterval(saveGame, 15000);

        // Sauvegarde √† la fermeture / changement d‚Äôonglet
        window.addEventListener('beforeunload', saveGame);
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) saveGame();
        });


        function openTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            window.scrollTo({ top: 0, behavior: "smooth" });
        }

        function showStats(type) {
            const garageDiv = document.getElementById("garage-liste");
            const succesDiv = document.getElementById("liste-succes");

            // Toggle : si le menu demand√© est d√©j√† visible, on le cache
            if ((type === "garage" && garageDiv.style.display === "block") ||
                (type === "success" && succesDiv.style.display === "block")) {
                garageDiv.style.display = "none";
                succesDiv.style.display = "none";
                return;
            }

            // On cache tout d'abord
            garageDiv.style.display = "none";
            succesDiv.style.display = "none";

            if (type === "garage") {
                garageDiv.innerHTML = "";
                const voituresAchetees = cars.filter(car => car.count > 0 && !car.type);

                if (voituresAchetees.length === 0) {
                    garageDiv.innerHTML = "<em>Votre garage est vide</em>";
                } else {
                    const classes = {};
                    voituresAchetees.forEach(car => {
                        let classe = "Inconnue";
                        for (let i = cars.indexOf(car) - 1; i >= 0; i--) {
                            if (cars[i].type === "separator") {
                                classe = cars[i].label;
                                break;
                            }
                        }
                        if (!classes[classe]) classes[classe] = new Set();
                        classes[classe].add(car.name);
                    });

                    for (const classe in classes) {
                        garageDiv.innerHTML += `<strong>${classe}</strong> : ${classes[classe].size} voiture(s)<br>`;
                    }
                }

                garageDiv.style.display = "block";
            }

            else if (type === "success") {

                succesDiv.innerHTML = "";
                succes.forEach(s => {
                    succesDiv.innerHTML += `
                        <div class="card" style="margin:5px; padding:10px;">
                            <strong>${s.nom}</strong><br>
                            <span>${s.description}</span>
                        </div>
                    `;
                });

                succesDiv.style.display = "block";
            }
        }

        function verifierSucces() {
            succes.forEach(s => {
                if (!s.obtenu && s.condition()) {
                    s.obtenu = true;
                    alert("üèÜ Succ√®s d√©bloqu√© : " + s.nom);  // tu peux remplacer par une notif styl√©e
                    afficherSucces(); // on met √† jour l'affichage
                }
            });
        }



        loadGame();
        renderShop();
        updateCreditsDisplay();
        updateStatsDisplay();
        setInterval(updateStatsDisplay, 1000);
    </script>
</body>
</html>


